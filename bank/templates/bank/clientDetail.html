{% extends "base/base.html" %}

{% block pageTitle %}FinApp | Dashboard {% endblock pageTitle %}

{% block content %}
    <main class="container mb-5">
        <!--<h1 class="text-center display-6 pt-4">Dashboard</h1>-->
        <div class="row">
            <div class="col-12 col-md-4 mt-md-2 mb-md-5 px-md-2 py-md-3">
                {% include "bank/menu.html" %}
            </div>
            <div class="col-12 col-md-8">
                <div class="row justify-content-end">
                    <div class="col-2">
                        <img src="{{ client.image.url }}" alt="user image" class="img-fluid rounded-circle mt-3">
                    </div>
                </div>
                <div class="row justify-content-between">
                    <div class="card col-4 col-md-3 my-4 border-info ">
                        <div class="card-title h6 text-secondary pt-2">Current Balance:</div>
                        <p class="text-success">GHC {{ client.currentBalance }} </p>
                    </div>
                    <div class="card col-4 col-md-3 my-4 border-info">
                        <a href="{% url "deposite" clientID %}"><div class="card-title h6 text-secondary pt-2">Action</div>
                        <p class="text-success">Deposite</p></a>
                    </div>
                    <div class="card col-4 col-md-3 my-4 border-info">
                        <a href="{% url "withdrawal" clientID %}"><div class="card-title h6 text-secondary pt-2">Action</div>
                        <p class="text-success">Withdrawal</p></a>
                    </div>
                </div>
                <div class="row">
                    <div class="col-2">
                        <a href="{% url "edit_client" client.id %}"><button class="btn btn-warning">Edit client</button></a>
                    </div>
                </div>
                <div class="row justify-content-between">
                    <h5 class="h5 text-center text-secondary my-3">Rescent Transactions</h5>
                    <table class="table table-striped table-info table-hover">
                        <thead>
                            <tr class="">
                                <th scope="col" class="bg-dark text-white">#</th>
                                <th scope="col" class="bg-dark text-white">Date</th>
                                <th scope="col" class="bg-dark text-white">Time</th>
                                <th scope="col" class="bg-dark text-white">Amount</th>
                                <th scope="col" class="bg-dark text-white">Activity</th>
                            </tr>
                        </thead>
                        <tbody >
                            {% for transaction in transactions  %}
                            <tr>
                                <th scope="col">{{ forloop.counter }} </th>
                                <td scope="col">{{ transaction.date }} </td>
                                <td scope="col">{{ transaction.time }}</td>
                                <td scope="col">{{ transaction.amount }}</td>
                                <td scope="col">{{ transaction.activity }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
{% endblock content %}

